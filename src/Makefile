CXX	:= c++
CXXFLAGS := -std=c++14 -g3 -O0
INCLUDES := -Ichrome -Ichrome/third_party/boringssl/src/include -Ichrome/out/Default/gen
DEFINES  := -DUSE_OPENSSL
LIBS     := -lpthread -levent -licuuc
OBJECTS := ./chrome/net/quic/crypto/p256_key_exchange_openssl.o ./chrome/net/socket/socket_descriptor.o ./chrome/net/udp/udp_net_log_parameters.o ./chrome/net/udp/udp_client_socket.o ./chrome/net/udp/udp_socket_libevent.o ./chrome/net/base/dns_util.o ./chrome/net/base/net_errors_posix.o ./chrome/net/base/net_util.o ./chrome/net/base/test_completion_callback.o ./chrome/net/base/escape.o ./chrome/net/base/network_activity_monitor.o ./chrome/net/base/net_log.o ./chrome/net/base/registry_controlled_domains/registry_controlled_domain.o ./chrome/net/base/ip_endpoint.o ./chrome/net/base/io_buffer.o ./chrome/net/base/net_module.o ./chrome/url/url_constants.o ./chrome/url/url_util.o ./chrome/url/url_canon_pathurl.o ./chrome/url/url_canon_path.o ./chrome/url/third_party/mozilla/url_parse.o ./chrome/url/gurl.o ./chrome/url/url_canon_stdurl.o ./chrome/url/url_canon_etc.o ./chrome/url/url_canon_stdstring.o ./chrome/url/url_canon_fileurl.o ./chrome/url/url_canon_query.o ./chrome/url/url_canon_mailtourl.o ./chrome/url/url_canon_filesystemurl.o ./chrome/url/url_canon_ip.o ./chrome/url/url_canon_internal.o ./chrome/url/url_canon_relative.o ./chrome/url/url_canon_host.o ./chrome/url/url_canon_icu.o ./chrome/url/url_parse_file.o ./chrome/crypto/random.o ./chrome/crypto/third_party/nss/sha512.o ./chrome/crypto/secure_hash_default.o ./chrome/crypto/sha2.o ./chrome/third_party/modp_b64/modp_b64.o ./chrome/out/Default/gen/net/base/registry_controlled_domains/effective_tld_names-inc.o ./chrome/base/tracked_objects.o ./chrome/base/pending_task.o ./chrome/base/profiler/tracked_time.o ./chrome/base/profiler/alternate_timer.o ./chrome/base/sys_info_posix.o ./chrome/base/location.o ./chrome/base/thread_task_runner_handle.o ./chrome/base/pickle.o ./chrome/base/timer/timer.o ./chrome/base/files/file_posix.o ./chrome/base/files/file_enumerator.o ./chrome/base/files/file_enumerator_posix.o ./chrome/base/files/file.o ./chrome/base/files/file_path.o ./chrome/base/files/file_util_posix.o ./chrome/base/files/scoped_file.o ./chrome/base/files/file_path_constants.o ./chrome/base/callback_internal.o ./chrome/base/synchronization/lock_impl_posix.o ./chrome/base/synchronization/lock.o ./chrome/base/synchronization/condition_variable_posix.o ./chrome/base/synchronization/waitable_event_posix.o ./chrome/base/synchronization/cancellation_flag.o ./chrome/base/debug/trace_event_memory.o ./chrome/base/debug/debugger_posix.o ./chrome/base/debug/alias.o ./chrome/base/debug/stack_trace_posix.o ./chrome/base/debug/trace_event_impl_constants.o ./chrome/base/debug/task_annotator.o ./chrome/base/debug/stack_trace.o ./chrome/base/debug/trace_event_impl.o ./chrome/base/debug/trace_event_synthetic_delay.o ./chrome/base/values.o ./chrome/base/lazy_instance.o ./chrome/base/command_line.o ./chrome/base/vlog.o ./chrome/base/logging.o ./chrome/base/at_exit.o ./chrome/base/process/process_handle_posix.o ./chrome/base/process/process_metrics_posix.o ./chrome/base/third_party/dynamic_annotations/dynamic_annotations.o ./chrome/base/third_party/icu/icu_utf.o ./chrome/base/third_party/nspr/prtime.o ./chrome/base/third_party/dmg_fp/g_fmt.o ./chrome/base/third_party/dmg_fp/dtoa.o ./chrome/base/task_runner.o ./chrome/base/safe_strerror_posix.o ./chrome/base/time/time.o ./chrome/base/time/time_posix.o ./chrome/base/metrics/histogram_samples.o ./chrome/base/metrics/stats_table.o ./chrome/base/metrics/sample_vector.o ./chrome/base/metrics/statistics_recorder.o ./chrome/base/metrics/bucket_ranges.o ./chrome/base/metrics/stats_counters.o ./chrome/base/metrics/histogram_base.o ./chrome/base/metrics/sample_map.o ./chrome/base/metrics/sparse_histogram.o ./chrome/base/metrics/histogram.o ./chrome/base/message_loop/message_pump.o ./chrome/base/message_loop/message_pump_libevent.o ./chrome/base/message_loop/message_loop.o ./chrome/base/message_loop/message_loop_proxy.o ./chrome/base/message_loop/incoming_task_queue.o ./chrome/base/message_loop/message_loop_proxy_impl.o ./chrome/base/message_loop/message_pump_default.o ./chrome/base/threading/thread_collision_warner.o ./chrome/base/threading/sequenced_worker_pool.o ./chrome/base/threading/thread_local_posix.o ./chrome/base/threading/platform_thread_posix.o ./chrome/base/threading/thread_restrictions.o ./chrome/base/threading/simple_thread.o ./chrome/base/threading/thread_local_storage_posix.o ./chrome/base/threading/post_task_and_reply_impl.o ./chrome/base/threading/thread_local_storage.o ./chrome/base/threading/thread_id_name_manager.o ./chrome/base/threading/platform_thread_linux.o ./chrome/base/threading/non_thread_safe_impl.o ./chrome/base/threading/thread_checker_impl.o ./chrome/base/json/string_escape.o ./chrome/base/json/json_reader.o ./chrome/base/json/json_string_value_serializer.o ./chrome/base/json/json_writer.o ./chrome/base/json/json_parser.o ./chrome/base/run_loop.o ./chrome/base/base64.o ./chrome/base/sequence_checker_impl.o ./chrome/base/rand_util_posix.o ./chrome/base/base_switches.o ./chrome/base/memory/shared_memory_posix.o ./chrome/base/memory/ref_counted.o ./chrome/base/memory/ref_counted_memory.o ./chrome/base/memory/singleton.o ./chrome/base/memory/weak_ptr.o ./chrome/base/tracking_info.o ./chrome/base/sequenced_task_runner.o ./chrome/base/strings/utf_offset_string_conversions.o ./chrome/base/strings/string_piece.o ./chrome/base/strings/sys_string_conversions_posix.o ./chrome/base/strings/string16.o ./chrome/base/strings/utf_string_conversions.o ./chrome/base/strings/string_split.o ./chrome/base/strings/string_number_conversions.o ./chrome/base/strings/stringprintf.o ./chrome/base/strings/utf_string_conversion_utils.o ./chrome/base/strings/string_util.o ./chrome/base/strings/string_util_constants.o ./crypto/rijndael.o ./crypto_test.o /home/zeus/src/boringssl/out/ssl/libssl.a /home/zeus/src/boringssl/out/crypto/libcrypto.a
#OBJECTS  := crypto_test.o chrome/crypto/random.o chrome/base/strings/string_piece.o chrome/crypto/sha2.o chrome/base/logging.o chrome/base/rand_util_posix.o chrome/base/strings/string16.o chrome/crypto/secure_hash_default.o chrome/base/command_line.o chrome/base/base_switches.o chrome/base/vlog.o chrome/base/synchronization/lock_impl_posix.o chrome/base/threading/platform_thread_posix.o chrome/base/debug/stack_trace_posix.o chrome/base/debug/stack_trace.o chrome/base/debug/alias.o chrome/base/debug/debugger_posix.o chrome/base/safe_strerror_posix.o chrome/base/strings/utf_string_conversions.o chrome/base/files/file_util_posix.o chrome/base/lazy_instance.o chrome/crypto/third_party/nss/sha512.o chrome/base/pickle.o chrome/base/strings/string_util.o chrome/base/files/file_path.o chrome/base/strings/string_split.o chrome/base/strings/string_number_conversions.o chrome/base/time/time.o chrome/base/threading/thread_id_name_manager.o chrome/base/threading/platform_thread_linux.o chrome/base/synchronization/waitable_event_posix.o chrome/base/threading/thread_restrictions.o chrome/base/strings/utf_string_conversion_utils.o chrome/base/files/file_enumerator_posix.o chrome/base/files/file_enumerator.o chrome/base/files/file_posix.o chrome/base/files/file.o chrome/base/files/scoped_file.o chrome/base/at_exit.o chrome/base/third_party/icu/icu_utf.o chrome/base/strings/string_util_constants.o chrome/base/memory/singleton.o chrome/base/files/file_path_constants.o chrome/base/strings/sys_string_conversions_posix.o chrome/base/third_party/dmg_fp/g_fmt.o chrome/base/third_party/dmg_fp/dtoa.o chrome/base/time/time_posix.o chrome/base/third_party/nspr/prtime.o chrome/base/strings/stringprintf.o chrome/base/synchronization/lock.o chrome/base/tracked_objects.o chrome/base/synchronization/condition_variable_posix.o chrome/base/memory/ref_counted.o chrome/base/threading/thread_local_posix.o chrome/base/metrics/sparse_histogram.o chrome/base/callback_internal.o chrome/base/location.o chrome/base/profiler/tracked_time.o chrome/base/threading/thread_local_storage.o chrome/base/profiler/alternate_timer.o chrome/base/process/process_handle_posix.o chrome/base/metrics/statistics_recorder.o chrome/base/metrics/histogram_base.o chrome/base/metrics/sample_map.o chrome/base/threading/thread_local_storage_posix.o chrome/base/metrics/bucket_ranges.o chrome/base/json/string_escape.o chrome/base/metrics/histogram.o chrome/base/values.o chrome/base/json/json_string_value_serializer.o chrome/base/metrics/histogram_samples.o chrome/base/metrics/sample_vector.o chrome/base/json/json_writer.o chrome/base/json/json_reader.o chrome/base/json/json_parser.o chrome/net/quic/crypto/p256_key_exchange_openssl.o /home/zeus/src/boringssl/out/crypto/libcrypto.a /home/zeus/src/boringssl/out/ssl/libssl.a crypto/rijndael.o chrome/base/base64.o chrome/third_party/modp_b64/modp_b64.o

crypto_test: $(OBJECTS)
	$(CXX) $(OBJECTS) -o $@ $(LIBS)

%.o: %.c
	clang $(DEFINES) $(INCLUDES) -c $< -o $@

%.o: %.cc
	$(CXX) $(DEFINES) $(CXXFLAGS) $(INCLUDES) -c $< -o $@

clean:
	rm -f crypto_test *.o
	find . -name *.o | xargs rm
